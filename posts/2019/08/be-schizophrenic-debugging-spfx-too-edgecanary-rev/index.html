<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>YPcode</title>
    <link rel="icon" href="/images/favicon.png" type="image/png" />
    <link rel="canonical" href="https://ypcode.io/posts/2019/08/be-schizophrenic-debugging-spfx-too-edgecanary-rev" />
    <link rel="stylesheet" href="/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/site.css?v=202007310828" />
    <meta name="generator" content="PVX WebContentGenerator" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.27.0/moment.min.js"></script>
    <script src="/lib/jquery/dist/jquery.min.js"></script>
    <script src="/js/framework.js?v=202007310828"></script>
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/themes/prism.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/themes/prism.min.css">
</noscript>
<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/themes/prism-tomorrow.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/themes/prism-tomorrow.min.css">
</noscript>
<link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/plugins/autolinker/prism-autolinker.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/plugins/autolinker/prism-autolinker.css">
</noscript>
<style>
pre[class*=language-] {    
    margin-bottom: 1.5em;
}
</style>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-172372458-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-172372458-1');
</script>

<style>
.social-links {
    display: inline-flex;
    width: 60%;
    margin:auto;
    justify-content: center;
    color: #807070;
}

.social-links a {
    margin-right: 15px;
}

.social-links a:hover {
    color: #9e1e28;
}

    .social-links svg {
        fill: currentColor;
        height: 18px;
    }
</style>
        <meta property="og:site_name" content="YPcode" />
        <meta property="og:type" content="article" />
        <meta property="og:title" content="Be schizophrenic at debugging SPFx too ! (Edge Canary - revision)" />
            <meta property="og:description" content="See how to easily deal with multiple user profiles when debugging your application in Edge Canary (Chromium)" />
        <meta property="og:url" content="https://ypcode.io/posts/2019/08/be-schizophrenic-debugging-spfx-too-edgecanary-rev" />
        <meta property="og:image" content="https://ypcode.io/images/2019/08/edge_canary_config01.png" />
        <meta property="article:publisher" content="https://www.facebook.com/yannick.plenevaux" />
        <meta property="article:published_time" content="2019-08-23 08:32:28Z" />
        <meta property="article:modified_time" content="2019-08-23 08:32:28Z" />
                <meta property="article:tag" content="Debugging" />
                <meta property="article:tag" content="HTML" />
                <meta property="article:tag" content="JavaScript" />
                <meta property="article:tag" content="JS" />
                <meta property="article:tag" content="Microsoft Edge Canary" />
                <meta property="article:tag" content="SharePoint" />
                <meta property="article:tag" content="SharePoint Framework" />
                <meta property="article:tag" content="SPFx" />
                <meta property="article:tag" content="TypeScript" />
                <meta property="article:tag" content="VSCode" />
        <meta name="twitter:title" content="Be schizophrenic at debugging SPFx too ! (Edge Canary - revision)" />
            <meta name="twitter:description" content="See how to easily deal with multiple user profiles when debugging your application in Edge Canary (Chromium)" />
        <meta name="twitter:url" content="https://ypcode.io/posts/2019/08/be-schizophrenic-debugging-spfx-too-edgecanary-rev" />
            <meta name="twitter:card" content="summary_large_image" />
            <meta name="twitter:image" content="https://ypcode.io/images/2019/08/edge_canary_config01.png" />
            <meta name="twitter:label1" content="Written by" />
            <meta name="twitter:data1" content="Yannick Plenevaux" />
            <meta name="twitter:label2" content="Filed under" />
            <meta name="twitter:data2" content="Debugging, HTML, JavaScript, JS, Microsoft Edge Canary, SharePoint, SharePoint Framework, SPFx, TypeScript, VSCode" />
        <meta name="twitter:site" content="@yp_code" />
    <link rel="alternate" type="application/rss+xml" title="YPcode" href="https://ypcode.io/feed" />


    <script>
        var initialSiteContentHeight = null;
        function toggleMenu() {
            var menu = document.querySelector(".menu");
            var siteContent = document.querySelector(".site-content");
            if (menu && siteContent) {
                if (menu.classList.contains("visible")) {
                    menu.classList.remove("visible");
                } else {
                    menu.classList.add("visible");
                }
            }
        }
    </script>
</head>
<body>
    <div class="menu">
        <span class="menu-hamburger-icon" onclick="toggleMenu();">
            <svg xmlns="http://www.w3.org/2000/svg" 
                x="0px" 
                y="0px"
                width="30" 
                height="30"
                viewBox="0 0 172 172"
                style=" fill:#000000;">
                    <g fill="none" fill-rule="nonzero" stroke="none" stroke-width="1" stroke-linecap="butt" stroke-linejoin="miter" stroke-miterlimit="10" stroke-dasharray="" stroke-dashoffset="0" font-family="none" font-weight="none" font-size="none" text-anchor="none" style="mix-blend-mode: normal"><path d="M0,172v-172h172v172z" fill="none"></path><g fill="#ffffff"><path d="M0,25.8v17.2h172v-17.2zM0,77.4v17.2h172v-17.2zM0,129v17.2h172v-17.2z"></path></g></g>
            </svg>
        </span>
        <a href="https://ypcode.io/">
            <h1 class="main-site-title">YPcode</h1>
            <hr class="sep main-site-title-sep"/>
            <h2 class="main-site-description">Experiences and research on Microsoft 365, Azure and modern web development</h2>
        </a>
        <nav class="navigation">
    <ul>
<li class="nav-item">
    <span class="link-icon icon-home" ></span><a class="nav-link" href="/" >Home</a>
</li><li class="nav-item">
    <span class="link-icon icon-about" ></span><a class="nav-link" href="/pages/about-me/" >About me</a>
</li><li class="nav-item">
    <span class="link-icon icon-about" ></span><a class="nav-link" href="/pages/projects-contrib/" >Projects &amp; Contributions</a>
</li><li class="nav-item">
    <span class="link-icon icon-speak" ></span><a class="nav-link" href="/pages/speaking/" >Speaking</a>
</li>    </ul>
</nav>
        
            <div class="main-site-author">
                    <img class="main-site-author-picture" src="/images/common/me.png" />
                    <h3 class="main-site-author-name">
                        Yannick Plenevaux
                    </h3>
                        <h3 class="main-site-author-description">
                                <span class="main-site-author-description-line">Microsoft 365 Solutions Architect</span>
                                <span class="main-site-author-description-line">Office Development MVP</span>
                        </h3>
            </div>

        <div class="menu-social-links">
            <p class="social-links">

    <a href="https://mvp.microsoft.com/en-us/PublicProfile/5003599?fullName=Yannick%20Plenevaux" target="_blank"
        title="Microsoft MVP" rel="noopener">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50">
            <defs>
                <style>
                    .a {
                        fill: currentColor;
                    }

                    .b {
                        fill: #1d1d1d;
                    }
                </style>
            </defs>
            <rect class="a" width="50" height="50"></rect>
            <path class="b"
                d="M17.42,26.16a15.14,15.14,0,0,0-.22,1.59l-.07.48h0a14.16,14.16,0,0,0-.33-2l-1.82-7.89h-3.5v13h2.07V24.43c0-1.18,0-2.39-.09-3.61h.08l.35,2.3,2,8.19h2.28L20,23c.18-.9.31-1.63.39-2.18h.05q-.09,2-.09,2.94v7.55h2.14v-13H19.13Zm18.36.72h1a3.81,3.81,0,0,0,3-1.24,4.54,4.54,0,0,0,1.14-3.17,4.23,4.23,0,0,0-1-3.08A3.81,3.81,0,0,0,37,18.34H33.29v13h2.49Zm0-6.37h.83a1.62,1.62,0,0,1,1.25.52,2.25,2.25,0,0,1,.48,1.57c0,1.42-.57,2.13-1.7,2.13h-.86Zm-9.24,10.8h2.67l3.31-13H30l-1.8,8.5c-.09.47-.15.92-.19,1.34l-.05.35h-.06a12,12,0,0,0-.2-1.65l-1.8-8.54H23.32ZM25.26,46.75,3.75,25.24,25.24,3.75,46.75,25.26Z"
                transform="translate(-0.25 -0.25)"></path>
        </svg>
        </a>

    <a href="https://twitter.com/yp_code" target="_blank" title="Twitter" rel="noopener">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">
            <path
                d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z">
            </path>
        </svg>
    </a>

    <a href="https://github.com/ypcode" target="_blank" title="GitHub" rel="noopener">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512">
            <path
                d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z">
            </path>
        </svg>
    </a>

    <a href="https://www.linkedin.com/in/yannickplenevaux" target="_blank" title="LinkedIn" rel="noopener">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
            <path
                d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z">
            </path>
        </svg>
    </a>


    <a href="/feed.xml" target="_blank" title="RSS">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
            <path
                d="M128.081 415.959c0 35.369-28.672 64.041-64.041 64.041S0 451.328 0 415.959s28.672-64.041 64.041-64.041 64.04 28.673 64.04 64.041zm175.66 47.25c-8.354-154.6-132.185-278.587-286.95-286.95C7.656 175.765 0 183.105 0 192.253v48.069c0 8.415 6.49 15.472 14.887 16.018 111.832 7.284 201.473 96.702 208.772 208.772.547 8.397 7.604 14.887 16.018 14.887h48.069c9.149.001 16.489-7.655 15.995-16.79zm144.249.288C439.596 229.677 251.465 40.445 16.503 32.01 7.473 31.686 0 38.981 0 48.016v48.068c0 8.625 6.835 15.645 15.453 15.999 191.179 7.839 344.627 161.316 352.465 352.465.353 8.618 7.373 15.453 15.999 15.453h48.068c9.034-.001 16.329-7.474 16.005-16.504z">
            </path>
        </svg>
    </a>
</p>
        </div>
    </div>
   
    <div class="site-content">
        <main role="main" class="pb-3">
            <div class="content-item post">
    
    <div class="content-item-title">
        <span class="post-publishing-date">Aug 23, 2019</span>
        <h1>
            Be schizophrenic at debugging SPFx too ! (Edge Canary - revision)
            <hr/>
        </h1>
    </div>

        <div class="content-item-featured-image-container">
            <img class="content-item-featured-image" src="https://ypcode.io/images/2019/08/edge_canary_config01.png" alt="Be schizophrenic at debugging SPFx too ! (Edge Canary - revision)" />
        </div>
   
    <div class="content">
        <p>Hi SharePoint devs,</p>
<p>A few months ago, I wrote this article about being able to manage your user profiles for SPFx debugging purposes using VSCode and Google Chrome. You might have heard about this new revamp of Microsoft Edge now based on Chromium (the Open Source core of Google Chrome), It is currently still in preview under the codename &quot;Canary&quot;. So far, I haven't ran into any major issue using it and, I really like it, the best of what I liked in Chrome but Microsoft oriented. I dream about when it will become the standard browser in corporations ! Anyway, since it is based on Chromium, it brings the awesome feature of profiles which I think we probably are all using in Chrome ! That means we can leverage the same kind of tricks to use it as browser when debugging with VSCode ! In order to be as concrete as possible, I copy pasted the section of my previous article here under and will update the relevant pieces according to Edge Canary</p>
<h2 id="the-idea-multiple-profiles-for-debugging-in-various-user-scenarios">The idea : Multiple profiles for debugging in various user scenarios</h2>
<p>On the Microsoft Docs, you can find a procedure that explains <a href="https://docs.microsoft.com/en-us/sharepoint/dev/spfx/debug-in-vscode">how to setup a debugging environment using VSCode</a> and Chrome (or Edge).</p>
<p>The technique explained further relies on <strong>Edge Canary</strong> profiles so, basically, we can follow either Chrome or Edge procedure. If you have never seen this article before,  reading it will help you better understand what follows. The important part here is that you install the &quot;Debugger for Edge&quot; extension that <strong>supports both EdgeHTML and Chromium</strong> variants of Edge Basically, in <strong><em>.vscode\launch.json</em></strong> file, you can add and edit debug configurations, by default you have 2 entries &quot;Local Workbench&quot; to debug locally and &quot;Hosted Workbench&quot; to debug your solution within the Workbench hosted on SharePoint (so you can really interact with SharePoint APIs)</p>
<p><img src="/images/2019/02/debug_workbench.png" alt="debug_workbench" /></p>
<p>First we need to run <strong>gulp serve --nobrowser</strong> in order to serve locally the solution to debug. If you give that &quot;Hosted Workbench&quot; a try (you need to select it in the debug pane) and press F5 or click the &quot;Play&quot; button in VSCode. Chrome opens up in incognito mode, and obviously prompts you for logging in.</p>
<p><img src="/images/2019/02/incognito_login.png" alt="incognito_login" /></p>
<p>Since you are in incognito mode, none of your preferences, sessions, history will be kept, which means, that when you stop debugging and restart, you have once again to log in.</p>
<h2 id="hey-arent-we-supposed-to-talk-about-edge-canary">Hey, aren't we supposed to talk about Edge Canary ?</h2>
<p>You're right, let's switch to it right now !</p>
<p><img src="/images/2019/08/canary-profiles.png" alt="canary-profiles" /></p>
<p>In my Microsoft Edge canary settings, I have a bunch of profiles I use for my various accounts, They keep persisted sessions, cookies, passwords, etc... First of all, we will change our configuration to use Microsoft Edge Canary instead. In order to do that, in the .vscode\launch.json file replace the type value of the debug configuration you want from &quot;<strong>chrome</strong>&quot; to &quot;<strong>edge</strong>&quot;, but this will make you use the EdgeHTML version (the initial version of Edge), to use the Canary version, you will need to set also another <strong>version</strong> property set to &quot;<strong>canary</strong>&quot;. Maybe I missed an important part... make sure you have Microsoft Edge Canary version properly installed :D ! You can get it there <a href="https://www.microsoftedgeinsider.com/en-us/download">https://www.microsoftedgeinsider.com/en-us/download</a></p>
<p>You will also have to update the remote debug port to <em><strong>2015</strong></em> that is the one used by edge and just FYI, the <strong>-incognito</strong> option switch of Google Chrome is now called <strong>-inPrivate</strong> but we won't use it !</p>
<p>The first update of a debug configuration in the launch.json file should look like</p>
<pre><code class="language-json">{
 &quot;name&quot;:&quot;Hosted workbench&quot;,
 &quot;type&quot;:&quot;edge&quot;,
 &quot;version&quot;:&quot;canary&quot;,
 &quot;request&quot;:&quot;launch&quot;,
 &quot;url&quot;:&quot;https://tenant.sharepoint.com/sites/labs/_layouts/workbench.aspx&quot;,
 &quot;webRoot&quot;:&quot;${workspaceRoot}&quot;,
 &quot;sourceMaps&quot;:true,
 &quot;sourceMapPathOverrides&quot;:{
 &quot;webpack:///.././src/*&quot;:&quot;${webRoot}/src/*&quot;,
 &quot;webpack:///../../../src/*&quot;:&quot;${webRoot}/src/*&quot;,
 &quot;webpack:///../../../../src/*&quot;:&quot;${webRoot}/src/*&quot;,
 &quot;webpack:///../../../../../src/*&quot;:&quot;${webRoot}/src/*&quot;
 },
 &quot;runtimeArgs&quot;: [
 &quot;--remote-debugging-port=2015&quot;,
 &quot;-inPrivate&quot;
 ] 
}
</code></pre>
<p>Okay, now we can run Edge Canary as our browser for debugging, but you already probably noticed that every time you start a new debug &quot;session&quot;, you loose every preferences and settings ?</p>
<h3 id="the-chrome-edge-canary-chromium-user-data-directory">The Chrome Edge Canary (Chromium) User Data Directory</h3>
<p>Edge Canary keeps all those profiles information in the local app data of your user <em><strong>%USERPROFILE%\AppData\Local\Microsoft\Edge SxS\User Data</strong></em></p>
<p><img src="/images/2019/08/default_canary_userdata.png" alt="default_canary_userdata" /></p>
<p>Yes, they are all named &quot;Profile X&quot; but they really contain the data of the profiles I gave names to in Chrome Edge Canary. So why can't we see them when debugging with VS Code ? If you check out the other possible entries of the config, you'll see something interesting !</p>
<p><a href="/images/2019/02/launch_json_userdatadir.png">launch_json_userdatadir</a></p>
<p>This <em><strong>userDataDir</strong></em> property default value is <strong><em>true</em></strong> which means VSCode will always recreate a temporary user directory and not use the one in your AppData. Let's play with this setting, let's try with a value set to <strong><em>false</em></strong>. Hey that seems to work, it opens up a new tab in my current Chrome Edge Canary session ! But wait... Yeah, that was too easy, after 10 secs, I get the following in VS Code</p>
<p><a href="/images/2019/02/debug_connect_error_vscode.png">debug_connect_error_vscode</a></p>
<p>After a bit of searching, I learned it is actually some kind of limitation in Chromium, the --remote-debugging option cannot be used on the default Chromium &quot;scope&quot; if any browser window has been previously opened... Well, that is most likely the case, except if you use a different browser to read documentations etc...</p>
<h2 id="so-we-cannot-use-our-usual-edge-canary-profiles">So we cannot use our usual Edge Canary profiles</h2>
<p>Basically, that's correct, we cannot use our default Chrome profiles configuration for debugging, at least, not easily... I guess it would be possible to hack the config files and copy/paste the profile directories... But I would not do that because I am pretty sure it will, one way or another, ruin my existing configuration :D Okay, but can't we have another persisted configuration at least ? <strong>YES WE CAN !</strong> And that is exactly what we are going to do, the <strong>userDataDir</strong> option can actually take 3 types of value:</p>
<ul>
<li>true: Use the &quot;global&quot; Chrome user data directory</li>
<li>false: Recreate a temporary user data directory</li>
<li>string: We can also specify the path of a folder to use as the user data directory.</li>
</ul>
<p>Two approaches are now possible:</p>
<ul>
<li><strong>Either you create a folder within your solution with configuration dedicated to it</strong> (I did not really went deeper that way because in my cases, I want to reuse my profiles in different solutions, but I would think it might be a valid approach as well)</li>
<li><strong>Use a shared folder that we can use in different solutions</strong></li>
</ul>
<p>Let's go for the shared folder.</p>
<h2 id="initialize-a-new-user-data-and-profiles">Initialize a new user data (and profiles)</h2>
<p>From a cmd prompt, type, for instance, the following command</p>
<pre><code class="language-powershell">start msedge --user-data-dir=&quot;C:\\Workspace\\tools\\edge-canary-dev-userdata&quot;
</code></pre>
<p>You might probably want to update the path <strong><em>C:\Workspace\tools\edge-canary-dev-userdata</em></strong> by something that is relevant on your computer You can specify whatever folder path you want (even not existing), you can see a new Edge Canary instance opening, you can also check the path you specified to see it has been initialized with a bunch of files. In that new instance, you can manage profiles and create the ones you want. You can also already login to your tenant using the different user profiles you want or prepare any profile specific configuration !</p>
<p><img src="/images/2019/08/console_start_new_canary.png" alt="console_start_new_canary" />
<img src="/images/2019/08/edge_canary_config02.png" alt="edge_canary_config02" />
<img src="/images/2019/02/debug_with_userdir.png" alt="debug_with_userdir" /></p>
<p>We can now set the <em><strong>userDataDir</strong></em> value to the path of our new folder, hit F5 and ... Cool ! that works, it takes the context with my created profiles. Let's try to go a bit further !</p>
<h2 id="specify-profile-in-debug-config">Specify profile in debug config</h2>
<p>It is actually possible to specify the profile to use in the Chrome command line using the <strong><em>--profile-directory=Profile 3</em></strong> switch. As you can see you have to specify the name of the folder which is not the name you gave to the profiles, By exploring them, you probably can determine what folder matches what profile. An easiest way is to check out the _<strong>Local State</strong> _file in the new User Data Dir that is a JSON file that contains many config entries as well as the profiles. It will be trimmed and most likely unreadable, you will need to apply some formatting (e.g. using VS code built-in JSON formatting). You can also use this little PowerShell script I wrote that will return the matching values. It takes a single argument that is the path to the user data directory, again, by default I set some value that is relevant on my own machine. Feel free to update it according to your needs!</p>
<pre><code class="language-powershell">param(     [string]$UserDataDir=&quot;C:\workspace\tools\edge-canary-dev-userdata&quot; )  $localStateJson = Get-Content &quot;$UserDataDir\Local State&quot; $localState = $localStateJson | ConvertFrom-Json $profileKeys = $localState.profile.info_cache | Get-Member | ? {$_.MemberType -eq &quot;NoteProperty&quot;} $infoCache = $localState.profile.info_cache  $allEntries = @() ForEach($key in $profileKeys) {     $profile = $key.Name     $profileDisplayName = $infoCache.&quot;$profile&quot;.name     $newEntry = @{         Profile=$profile;         Name=$profileDisplayName;     };       $allEntries += $newEntry }  $allEntries
</code></pre>
<p>And get the following result</p>
<p><img src="/images/2019/02/mapping_profiles.png" alt="mapping_profiles" /></p>
<p>See how I can extract values from a complex JSON file ? Oh God, I LOVE PowerShell, let's do some more ! Put the following script in the same folder as the previous one</p>
<pre><code class="language-powershell">param(
    [string]$ConfigBaseName = &quot;Dev Profile &quot;,
    [string]$Url = &quot;https://your.sharepoint.com/sites/test/_layouts/workbench.aspx&quot;,
    [string]$UserDataDir = &quot;C:\workspace\tools\edge-canary-dev-userdata&quot;
)

# Get the profiles
$profiles = .\Get-EdgeCanaryVSCodeDebugProfiles.ps1 -UserDataDir $UserDataDir

$allConfigs = @()
ForEach ($profile in $profiles) {
    $profileName = $profile.Name
    $profileKey = $profile.Profile
    $newLaunchConfig = New-Object -TypeName psobject
    $newLaunchConfig | Add-Member -MemberType NoteProperty -Name &quot;name&quot; -Value $configBaseName$profileName
    $newLaunchConfig | Add-Member -MemberType NoteProperty -Name &quot;type&quot; -Value &quot;edge&quot;
    $newLaunchConfig | Add-Member -MemberType NoteProperty -Name &quot;version&quot; -Value &quot;canary&quot;
    $newLaunchConfig | Add-Member -MemberType NoteProperty -Name &quot;request&quot; -Value &quot;launch&quot;
    $newLaunchConfig | Add-Member -MemberType NoteProperty -Name &quot;url&quot; -Value $url
    $newLaunchConfig | Add-Member -MemberType NoteProperty -Name &quot;webRoot&quot; -Value &quot;`${workspaceRoot}&quot;
    $newLaunchConfig | Add-Member -MemberType NoteProperty -Name &quot;sourceMaps&quot; -Value $True
    $newLaunchConfig | Add-Member -MemberType NoteProperty -Name &quot;userDataDir&quot; -Value $userDataDir
    $newLaunchConfig | Add-Member -MemberType NoteProperty -Name &quot;sourceMapPathOverrides&quot; -Value @{
        &quot;webpack:///.././src/*&quot;           = &quot;`${webRoot}/src/*&quot;;
        &quot;webpack:///../../../src/*&quot;       = &quot;`${webRoot}/src/*&quot;;
        &quot;webpack:///../../../../src/*&quot;    = &quot;`${webRoot}/src/*&quot;;
        &quot;webpack:///../../../../../src/*&quot; = &quot;`${webRoot}/src/*&quot;;
    }
    $newLaunchConfig | Add-Member -MemberType NoteProperty -Name &quot;runtimeArgs&quot; -Value @( &quot;--remote-debugging-port=2015&quot;, &quot;--profile-directory=$profileKey&quot;)

    $allConfigs += $newLaunchConfig
}

$allConfigs | ConvertTo-Json
</code></pre>
<p>And call it, for instance, with these arguments:</p>
<pre><code class="language-powershell">.\GenerateDebugProfilesLaunchConfig-MSEdgeCanary.ps1 -ConfigBaseName &quot;DevProfile &quot; -Url https://tenant.sharepoint.com/sites/labs/SitePages/Lab-testing.aspx | Clip
</code></pre>
<p>Update the URL of your tenant and page (it can be the workbench or any other page), you'll notice this command output is piped to Clip, which means the result is automatically put into your clipboard. You then simply have to paste it into your <strong><em>launch.json</em></strong> file and save it, if you want to keep existing configuration as well, you will have to fix the JSON format</p>
<pre><code class="language-json">{
    &quot;version&quot;: &quot;0.2.0&quot;,
    &quot;configurations&quot;: [
        {
            &quot;name&quot;: &quot;Local workbench&quot;,
            &quot;type&quot;: &quot;chrome&quot;,
            &quot;request&quot;: &quot;launch&quot;,
            &quot;url&quot;: &quot;https://localhost:4321/temp/workbench.html&quot;,
            &quot;webRoot&quot;: &quot;${workspaceRoot}&quot;,
            &quot;sourceMaps&quot;: true,
            &quot;sourceMapPathOverrides&quot;: {
                &quot;webpack:///.././src/*&quot;: &quot;${webRoot}/src/*&quot;,
                &quot;webpack:///../../../src/*&quot;: &quot;${webRoot}/src/*&quot;,
                &quot;webpack:///../../../../src/*&quot;: &quot;${webRoot}/src/*&quot;,
                &quot;webpack:///../../../../../src/*&quot;: &quot;${webRoot}/src/*&quot;
            },
            &quot;runtimeArgs&quot;: [
                &quot;--remote-debugging-port=9222&quot;
            ]
        },
        {
            &quot;name&quot;: &quot;Hosted workbench&quot;,
            &quot;type&quot;: &quot;edge&quot;,
            &quot;version&quot;: &quot;canary&quot;,
            &quot;request&quot;: &quot;launch&quot;,
            &quot;url&quot;: &quot;https://tenant.sharepoint.com/sites/labs/_layouts/workbench.aspx&quot;,
            &quot;webRoot&quot;: &quot;${workspaceRoot}&quot;,
            &quot;sourceMaps&quot;: true,
            &quot;sourceMapPathOverrides&quot;: {
                &quot;webpack:///.././src/*&quot;: &quot;${webRoot}/src/*&quot;,
                &quot;webpack:///../../../src/*&quot;: &quot;${webRoot}/src/*&quot;,
                &quot;webpack:///../../../../src/*&quot;: &quot;${webRoot}/src/*&quot;,
                &quot;webpack:///../../../../../src/*&quot;: &quot;${webRoot}/src/*&quot;
            },
            &quot;runtimeArgs&quot;: [
                &quot;--remote-debugging-port=2015&quot;,
                &quot;-inPrivate&quot;
            ]
        },
        {
            &quot;name&quot;: &quot;DevProfile Owner&quot;,
            &quot;type&quot;: &quot;edge&quot;,
            &quot;version&quot;: &quot;canary&quot;,
            &quot;request&quot;: &quot;launch&quot;,
            &quot;url&quot;: &quot;https://tenant.sharepoint.com/sites/labs/SitePages/Lab-testing.aspx&quot;,
            &quot;webRoot&quot;: &quot;${workspaceRoot}&quot;,
            &quot;sourceMaps&quot;: true,
            &quot;userDataDir&quot;: &quot;C:\\workspace\\tools\\edge-canary-dev-userdata&quot;,
            &quot;sourceMapPathOverrides&quot;: {
                &quot;webpack:///../../../../../src/*&quot;: &quot;${webRoot}/src/*&quot;,
                &quot;webpack:///../../../src/*&quot;: &quot;${webRoot}/src/*&quot;,
                &quot;webpack:///../../../../src/*&quot;: &quot;${webRoot}/src/*&quot;,
                &quot;webpack:///.././src/*&quot;: &quot;${webRoot}/src/*&quot;
            },
            &quot;runtimeArgs&quot;: [
                &quot;--remote-debugging-port=2015&quot;,
                &quot;--profile-directory=Profile 1&quot;
            ]
        },
        {
            &quot;name&quot;: &quot;DevProfile Member&quot;,
            &quot;type&quot;: &quot;edge&quot;,
            &quot;version&quot;: &quot;canary&quot;,
            &quot;request&quot;: &quot;launch&quot;,
            &quot;url&quot;: &quot;https://tenant.sharepoint.com/sites/labs/SitePages/Lab-testing.aspx&quot;,
            &quot;webRoot&quot;: &quot;${workspaceRoot}&quot;,
            &quot;sourceMaps&quot;: true,
            &quot;userDataDir&quot;: &quot;C:\\workspace\\tools\\edge-canary-dev-userdata&quot;,
            &quot;sourceMapPathOverrides&quot;: {
                &quot;webpack:///../../../../../src/*&quot;: &quot;${webRoot}/src/*&quot;,
                &quot;webpack:///../../../src/*&quot;: &quot;${webRoot}/src/*&quot;,
                &quot;webpack:///../../../../src/*&quot;: &quot;${webRoot}/src/*&quot;,
                &quot;webpack:///.././src/*&quot;: &quot;${webRoot}/src/*&quot;
            },
            &quot;runtimeArgs&quot;: [
                &quot;--remote-debugging-port=2015&quot;,
                &quot;--profile-directory=Profile 2&quot;
            ]
        },
        {
            &quot;name&quot;: &quot;DevProfile Visitor&quot;,
            &quot;type&quot;: &quot;edge&quot;,
            &quot;version&quot;: &quot;canary&quot;,
            &quot;request&quot;: &quot;launch&quot;,
            &quot;url&quot;: &quot;https://tenant.sharepoint.com/sites/labs/SitePages/Lab-testing.aspx&quot;,
            &quot;webRoot&quot;: &quot;${workspaceRoot}&quot;,
            &quot;sourceMaps&quot;: true,
            &quot;userDataDir&quot;: &quot;C:\\workspace\\tools\\edge-canary-dev-userdata&quot;,
            &quot;sourceMapPathOverrides&quot;: {
                &quot;webpack:///../../../../../src/*&quot;: &quot;${webRoot}/src/*&quot;,
                &quot;webpack:///../../../src/*&quot;: &quot;${webRoot}/src/*&quot;,
                &quot;webpack:///../../../../src/*&quot;: &quot;${webRoot}/src/*&quot;,
                &quot;webpack:///.././src/*&quot;: &quot;${webRoot}/src/*&quot;
            },
            &quot;runtimeArgs&quot;: [
                &quot;--remote-debugging-port=2015&quot;,
                &quot;--profile-directory=Profile 3&quot;
            ]
        },
        {
            &quot;name&quot;: &quot;DevProfile Guest Access&quot;,
            &quot;type&quot;: &quot;edge&quot;,
            &quot;version&quot;: &quot;canary&quot;,
            &quot;request&quot;: &quot;launch&quot;,
            &quot;url&quot;: &quot;https://tenant.sharepoint.com/sites/labs/SitePages/Lab-testing.aspx&quot;,
            &quot;webRoot&quot;: &quot;${workspaceRoot}&quot;,
            &quot;sourceMaps&quot;: true,
            &quot;userDataDir&quot;: &quot;C:\\workspace\\tools\\edge-canary-dev-userdata&quot;,
            &quot;sourceMapPathOverrides&quot;: {
                &quot;webpack:///../../../../../src/*&quot;: &quot;${webRoot}/src/*&quot;,
                &quot;webpack:///../../../src/*&quot;: &quot;${webRoot}/src/*&quot;,
                &quot;webpack:///../../../../src/*&quot;: &quot;${webRoot}/src/*&quot;,
                &quot;webpack:///.././src/*&quot;: &quot;${webRoot}/src/*&quot;
            },
            &quot;runtimeArgs&quot;: [
                &quot;--remote-debugging-port=2015&quot;,
                &quot;--profile-directory=Profile 4&quot;
            ]
        }
    ]
}
</code></pre>
<p>Go to the debug pane and see the new debug configurations</p>
<p><img src="/images/2019/08/debug_configs.png" alt="debug_configs" /></p>
<p>Select a config and start debugging, you already logged in with you pre-configured session and it will keep whatever you save in these profiles !</p>
<h2 id="thats-it">That's it</h2>
<p>Happy to share the technique <strong>ALSO with EDGE CANARY</strong>, If you have ideas to improve it and concerns that I missed, please, let me know !</p>
<p>Cheers !</p>
<p>Yannick</p>

    </div>

    <div class="foot-random-posts">
        <div class="random-posts-container">
<h5>Other posts</h5>
<div id="random-posts" class="posts d-flex flex-wrap align-content-stretch">
</div>

<script>
    WCG.execute((db) => {

        const renderCard = (placeholderSelector, item) => {
            const placeholder = $(placeholderSelector);
            $(`<div class="post-card card box-shadow">
                <a href="${item.RelativeUrl}">
                    <img class="post-featured-image card-img-top" src="${item.FeaturedImage}" alt="${item.FeaturedImageAlt}" />
                </a>
                <div class="post-caption card-body">
                    <h5 class="post-title card-title">
                        <a href="${item.RelativeUrl}">${item.Title}</a>
                    </h5>
                    <span class="post-publishing-date">${moment(item.PublishedOn).format("MMM DD, YYYY")}</span>
                    <p class="post-summary card-text">
                        ${item.Description||''}
                    </p>
                    <div class="post-keywords">
                        ${item.Keywords.map(k => `<span class="post-keyword">#${k.replace(" ","")}</span>`).join(" ")}
                    </div>
                </div>
            </div>
            `).appendTo(placeholder);
        };

        const [firstPost, secondPost] = db.getRandomPosts(2);
        renderCard("#random-posts", firstPost);
        renderCard("#random-posts", secondPost);
    });
</script>
</div>
    </div>

     <div class="post-comments">
            <div id="disqus_thread"></div>
<script>

var disqus_config = function () {
this.page.url = 'https://ypcode.io/posts/2019/08/be-schizophrenic-debugging-spfx-too-edgecanary-rev';
this.page.identifier = 'src\content\posts\2019-08-23-be-schizophrenic-at-debugging-spfx-too-edge-canary-revision.md';
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://ypcode-io.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>

    </div>
</div>
        </main>

        <footer class="border-top footer">
                &copy; Copyrights 2020 - YPcode - Yannick Plenevaux
        </footer>
    </div>

    <script src="/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/js/site.js"></script>
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/prism.min.js" ></script>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/plugins/autolinker/prism-autolinker.js" ></script>

        <script async src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-aspnet.js" ></script>
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-c.js" ></script>
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-clike.js" ></script>
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-csharp.js" ></script>
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-css-extras.js" ></script>
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-scss.js" ></script>
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-markup.min.js" ></script>
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-javascript.min.js" ></script>
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-json.min.js" ></script>
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-jsx.min.js" ></script>
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-powershell.js" ></script>
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-typescript.min.js" ></script>
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-bash.js" ></script>



</body>
</html>
